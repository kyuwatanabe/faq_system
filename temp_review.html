<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>承認待ちFAQ - GFアメリカビザサポートデスク</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        /* スマホ対応 */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #007c39 0%, #45b134 100%);
            color: white;
            padding: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .header h1 {
            font-size: 24px;
            flex: 1;
            min-width: 200px;
        }

        .header-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        /* スマホ対応 - ヘッダー */
        @media (max-width: 768px) {
            .header {
                padding: 20px 15px;
                flex-direction: column;
                align-items: flex-start;
                text-align: center;
                gap: 15px;
            }

            .header h1 {
                font-size: 20px;
                width: 100%;
                text-align: center;
                margin-bottom: 10px;
            }

            .header-links {
                width: 100%;
                justify-content: center;
                flex-direction: column;
                gap: 8px;
            }
        }

        .back-link {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 25px;
            transition: background 0.3s;
            margin-left: 10px;
        }

        .back-link:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .content {
            padding: 30px;
        }

        /* スマホ対応 - コンテンツ */
        @media (max-width: 768px) {
            .content {
                padding: 15px;
            }

            .qa-item {
                padding: 15px;
                margin-bottom: 10px;
            }

            .stats-bar {
                flex-direction: column;
                gap: 15px;
            }
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
        }

        .stats-info {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .stat-item {
            text-align: center;
        }

        .stat-item h3 {
            font-size: 32px;
            color: #007c39;
            margin-bottom: 5px;
        }

        .stat-item p {
            color: #666;
            font-size: 13px;
        }

        .batch-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .select-all-container {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            background: white;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }

        .select-all-container input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .select-all-container label {
            font-size: 14px;
            cursor: pointer;
            user-select: none;
        }

        .btn-batch {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
            display: none;
        }

        .btn-batch.active {
            display: inline-block;
        }

        .btn-batch:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .btn-batch-reject {
            background: #dc3545;
            color: white;
        }

        .btn-batch-reject:hover {
            background: #c82333;
        }

        .btn-batch-approve {
            background: #28a745;
            color: white;
        }

        .btn-batch-approve:hover {
            background: #218838;
        }

        .empty-message {
            text-align: center;
            padding: 60px 20px;
            color: #666;
            font-size: 18px;
        }

        .qa-item {
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: box-shadow 0.2s, border-color 0.2s;
        }

        .qa-item:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .qa-item.selected {
            border-color: #007c39;
            background: #f0f9f4;
        }

        .qa-item.pending {
            border-left: 4px solid #ffc107;
        }

        .qa-item.confirmation-request {
            border-left: 4px solid #ff6b6b;
            background: #fff8f8;
        }

        .confirmation-badge {
            display: inline-block;
            background: #ff6b6b;
            color: white;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            margin-left: 10px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .qa-checkbox {
            float: left;
            margin-right: 15px;
            margin-top: 5px;
        }

        .qa-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .qa-content {
            overflow: hidden;
        }

        .qa-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .qa-id {
            background: #007c39;
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
        }

        .qa-date {
            color: #888;
            font-size: 11px;
        }

        .original-question {
            background: #fff3cd;
            border-left: 3px solid #ffc107;
            padding: 8px 12px;
            border-radius: 4px;
            margin-bottom: 12px;
            font-size: 12px;
        }

        .original-question strong {
            color: #856404;
        }

        .qa-question {
            font-size: 15px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .qa-answer {
            font-size: 13px;
            color: #555;
            line-height: 1.6;
            margin-bottom: 12px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 5px;
            max-height: 150px;
            overflow-y: auto;
        }

        .qa-meta {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 12px;
            color: #666;
            flex-wrap: wrap;
        }

        .qa-meta span {
            background: #e9ecef;
            padding: 3px 8px;
            border-radius: 3px;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
            flex-wrap: wrap;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 13px;
            font-weight: bold;
            text-decoration: none;
            display: inline-block;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .btn-check {
            background: #007c39;
            color: white;
        }

        .btn-check:hover {
            background: #005a29;
        }

        .btn-reject {
            background: #dc3545;
            color: white;
        }

        .btn-reject:hover {
            background: #c82333;
        }

        .selected-count {
            background: #007c39;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 14px;
            font-weight: bold;
            display: none;
        }

        .selected-count.active {
            display: inline-block;
        }

        @media (max-width: 768px) {
            .qa-header {
                flex-direction: column;
                gap: 8px;
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                text-align: center;
            }

            .batch-actions {
                flex-direction: column;
                width: 100%;
            }

            .btn-batch {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>承認待ちFAQ</h1>
            <div class="header-links">
                <a href="/admin/add_faq" class="back-link">FAQ追加</a>
                <a href="/admin/auto_generate_faq" class="back-link">FAQ自動生成</a>
                <a href="/admin" class="back-link">管理画面に戻る</a>
                <a href="/" class="back-link">ユーザー画面に戻る</a>
            </div>
        </div>

        <div class="content">
            
            <div class="stats-bar">
                <div class="stats-info">
                    <div class="stat-item">
                        <h3>19</h3>
                        <p>承認待ち</p>
                    </div>
                    <div class="stat-item">
                        <h3 id="selected-count">0</h3>
                        <p>選択中</p>
                    </div>
                </div>

                <div class="batch-actions">
                    <div class="select-all-container">
                        <input type="checkbox" id="select-all">
                        <label for="select-all">すべて選択</label>
                    </div>
                    <a href="/admin/export_pending" class="btn-batch" style="background: #28a745; text-decoration: none; display: inline-block;">
                        💾 バックアップ
                    </a>
                    <button class="btn-batch btn-batch-reject" id="batch-reject" onclick="batchReject()">
                        ❌ まとめて却下
                    </button>
                </div>
            </div>

            <form id="batch-form" method="POST" action="/admin/batch_reject">
                
                <div class="qa-item pending" data-qa-id="e6ba49b8">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="e6ba49b8" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: e6ba49b8</span>
                            
                            <span class="qa-date">2025-10-11 07:07:45</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            M-2ビザ保持者の家族は、どのような活動が許可されますか?
                        </div>

                        <div class="qa-answer">
                            M-2ビザ保持者の家族は、就労は許可されませんが、学校への入学、医療サービスの利用など、通常の生活に必要な活動が可能です。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: M-2ビザ;同行家族;活動内容</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/e6ba49b8" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('e6ba49b8')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="715970aa">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="715970aa" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 715970aa</span>
                            
                            <span class="qa-date">2025-10-11 07:07:45</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            ATO1-6ビザの特徴は何ですか?
                        </div>

                        <div class="qa-answer">
                            ATO1-6ビザは、NATO加盟国の軍人や軍属、その家族が対象で、軍事目的での滞在を目的としたビザです。申請条件は所属する軍隊や地位によって異なりますが、軍事上の必要性に基づいて発行されるビザです。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: NATO;軍人;軍属;軍事目的;滞在</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/715970aa" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('715970aa')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="88fbdec6">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="88fbdec6" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 88fbdec6</span>
                            
                            <span class="qa-date">2025-10-11 07:07:45</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            米国に不法に滞在した後、3年以内に再入国を希望する場合、どのような影響がありますか?
                        </div>

                        <div class="qa-answer">
                            180日以上1年未満の不法滞在後に再入国を希望する場合、3年間の入国禁止処分を受けます。また1年以上の不法滞在後の再入国は10年間の入国禁止となります。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: 不法滞在;再入国;入国禁止</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/88fbdec6" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('88fbdec6')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="dc549cc0">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="dc549cc0" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: dc549cc0</span>
                            
                            <span class="qa-date">2025-10-11 07:07:45</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            オーバーステイすると、入国に使用したビザは無効になりますか?
                        </div>

                        <div class="qa-answer">
                            はい、オーバーステイすると入国に使用したビザは無効になり、ビザを取り直す必要があります。オーバーステイ期間に応じて、3年や10年の再入国制限が課される場合もあります。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: オーバーステイ;ビザ無効;再入国制限</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/dc549cc0" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('dc549cc0')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="38de3194">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="38de3194" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 38de3194</span>
                            
                            <span class="qa-date">2025-10-11 07:07:45</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            科学的、教育的、専門的、またはビジネス上の大会、会議、セミナーに参加することは、ビザなしでアメリカに入国できますか？
                        </div>

                        <div class="qa-answer">
                            はい、B-1/B-2ビザの免除プログラム(VWP)に基づき、科学的、教育的、専門的、またはビジネス上の大会、会議、セミナーに参加するためにアメリカに入国することは可能です。ただし、その他の目的で就労する場合は別のビザが必要になります。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: ビザ免除プログラム;VWP;科学的会議;専門家会議;ビジネス会議</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/38de3194" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('38de3194')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="b4f0e042">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="b4f0e042" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: b4f0e042</span>
                            
                            <span class="qa-date">2025-10-11 07:07:45</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            日本からの出張者が現地法人の営業活動を行う場合、就労とみなされる可能性はありますか?
                        </div>

                        <div class="qa-answer">
                            現地法人のスタッフが行うべき営業活動を日本からの出張者が代わりに行えば、就労とみなされる可能性が高くなります。一方で、製品の説明や現地スタッフへのサポートなどの活動であれば、就労とみなされる可能性は低くなります。具体的な状況によって判断が異なるため、事前に確認することが重要です。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: 就労;営業活動;出張;現地法人</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/b4f0e042" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('b4f0e042')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="56ff0c68">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="56ff0c68" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 56ff0c68</span>
                            
                            <span class="qa-date">2025-10-11 07:07:45</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            日本から出張でアメリカに来る際、ビジネス活動の範囲はどのように判断されますか?
                        </div>

                        <div class="qa-answer">
                            営業活動でも製品の専門的な情報提供や日本の生産プロセスの説明など、現地法人のスタッフをサポートする程度であれば、就労とみなされる可能性は低くなります。一方で、現地法人のスタッフの業務を代わりに行えば、就労とみなされる可能性が高くなります。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: ビジネス活動;就労;営業活動;サポート;現地法人</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/56ff0c68" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('56ff0c68')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="5e955fd3">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="5e955fd3" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 5e955fd3</span>
                            
                            <span class="qa-date">2025-10-11 07:07:45</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            ビザウェーバープログラムを利用してビザなしで90日以下の米国渡航をするにはどのような条件が必要ですか?
                        </div>

                        <div class="qa-answer">
                            ビザウェーバープログラム参加国の国籍、有効なe-passport、ESTAによる渡航認証、商用・観光・通過のいずれかの目的が必要です。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: ビザウェーバー;ESTA;e-passport;渡航目的</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/5e955fd3" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('5e955fd3')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="e4528526">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="e4528526" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: e4528526</span>
                            
                            <span class="qa-date">2025-10-11 07:07:45</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            公用または外交パスポートを所持している場合、ビザウェーバープログラムを利用できますか?
                        </div>

                        <div class="qa-answer">
                            公用または外交パスポート所持者が観光または通過の目的で渡米する場合、ビザウェーバープログラムを利用することができます。ただし公務で渡米する場合は90日以下の滞在であっても、公用または外交ビザを取得しなければなりません。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: 公用パスポート;外交パスポート;ビザウェーバープログラム;公務渡航</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/e4528526" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('e4528526')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="07bc2927">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="07bc2927" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 07bc2927</span>
                            
                            <span class="qa-date">2025-10-11 07:07:45</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            ESTAの質問項目17で、特定の疾病を患っている場合は入国できませんか?
                        </div>

                        <div class="qa-answer">
                            ESTA申請時の質問項目17では、特定の疾病を患っていると入国できない可能性があります。ただし、単に疾病があるだけでは必ずしも入国が拒否されるわけではありません。疾病の程度や渡航目的など、個別の事情を総合的に判断されます。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: ESTA;疾病;入国;渡航認証</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/07bc2927" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('07bc2927')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="69b03ade">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="69b03ade" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 69b03ade</span>
                            
                            <span class="qa-date">2025-10-11 07:10:52</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            ビジネスで訪問する場合、どのようなビザが必要ですか?
                        </div>

                        <div class="qa-answer">
                            ビジネスで訪問する場合は、主にB-1ビザが必要です。B-1ビザは、商用目的の一時的な訪問に使用されるビザです。商談、契約交渉、展示会への参加などが主な使用目的です。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: B-1ビザ;商用ビザ;ビジネス訪問</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/69b03ade" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('69b03ade')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="74101405">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="74101405" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 74101405</span>
                            
                            <span class="qa-date">2025-10-11 07:10:52</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            投資駐在員のE-2ビザとはどのようなビザですか?
                        </div>

                        <div class="qa-answer">
                            E-2ビザは、外国人投資家が米国に投資し、その事業を管理・運営するために取得するビザです。投資金額や投資内容、事業計画などの要件を満たす必要があります。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: E-2ビザ;投資駐在員;外国人投資家;事業管理;事業運営</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/74101405" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('74101405')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="ccca06ce">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="ccca06ce" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: ccca06ce</span>
                            
                            <span class="qa-date">2025-10-11 07:10:52</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            ビザの有効期限と滞在期限はどのように決まりますか?
                        </div>

                        <div class="qa-answer">
                            ビザの有効期限はビザを発行する国務省の在外公館の領事が決めますが、滞在期限は国土安全保障省の移民局と入国審査官が決めます。ビザはその目的での入国審査を受ける権利を与えるものですが、入国を保証するものではありません。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: ビザ;有効期限;滞在期限;国務省;国土安全保障省;移民局;入国審査</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/ccca06ce" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('ccca06ce')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="08b194f7">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="08b194f7" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 08b194f7</span>
                            
                            <span class="qa-date">2025-10-11 07:10:52</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            オーバーステイしてしまった場合、入国に使ったビザはどうなりますか?
                        </div>

                        <div class="qa-answer">
                            オーバーステイすると、入国の際に利用したビザは無効になり、ビザを取り直す必要があります。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: オーバーステイ;ビザ;無効;再申請</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/08b194f7" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('08b194f7')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="6554fa84">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="6554fa84" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 6554fa84</span>
                            
                            <span class="qa-date">2025-10-11 07:10:52</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            新しいビザを申請したが、まだ発給されていない場合はどうなりますか?
                        </div>

                        <div class="qa-answer">
                            新しいビザを申請したが発給されていない場合、Automatic Revalidationの条件を満たせば、I-94の有効期限までアメリカに再入国し滞在することが可能です。ただし、30日以上米国外に滞在していたり、カナダ・メキシコ以外の国に渡航したりした場合はビザが必要となります。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: ビザ申請;Automatic Revalidation;再入国;滞在期間</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/6554fa84" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('6554fa84')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="8c208fef">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="8c208fef" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 8c208fef</span>
                            
                            <span class="qa-date">2025-10-11 07:10:52</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            ビザウェーバープログラムとはどのようなものですか?
                        </div>

                        <div class="qa-answer">
                            ビザウェーバープログラムは、日本人が短期(90日以下)の観光や商用、通過でアメリカに入国する際にビザを必要としない相互的な特例措置です。42の参加国の国籍保有者がこのプログラムの適用を受けられます。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: ビザウェーバー;ビザ免除;渡航;アメリカ;短期渡航</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/8c208fef" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('8c208fef')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="ab8688f8">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="ab8688f8" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: ab8688f8</span>
                            
                            <span class="qa-date">2025-10-11 07:10:52</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            イラク、イラン、北朝鮮などの一部の国に渡航した人はビザウェーバープログラムを利用できますか?
                        </div>

                        <div class="qa-answer">
                            一般的にはビザウェーバープログラムを利用できません。ただし国土安全保障省長官の判断により、国際機関の公務、人道支援、報道目的などで渡航した場合は例外的に免除される可能性があります。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: ビザウェーバープログラム;渡航制限;国土安全保障省;免除</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/ab8688f8" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('ab8688f8')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="3bc8f151">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="3bc8f151" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 3bc8f151</span>
                            
                            <span class="qa-date">2025-10-11 07:10:52</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            ビザウェーバープログラムを利用してアメリカに入国する場合、事前にどのような手続きが必要ですか?
                        </div>

                        <div class="qa-answer">
                            ビザウェーバープログラムを利用してアメリカに入国する際は、飛行機や船舶に搭乗する前にオンラインでESTAの渡航認証を受ける必要があります。ESTAは渡航者がビザウェーバープログラムの条件を満たしているかを事前に判定するシステムです。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: ビザウェーバープログラム;ESTA;渡航認証;入国手続き</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/3bc8f151" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('3bc8f151')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="qa-item pending" data-qa-id="9c180a20">
                    <div class="qa-checkbox">
                        <input type="checkbox" name="qa_ids" value="9c180a20" class="qa-select">
                    </div>

                    <div class="qa-content">
                        <div class="qa-header">
                            <span class="qa-id">ID: 9c180a20</span>
                            
                            <span class="qa-date">2025-10-11 07:10:52</span>
                        </div>

                        
                        <div class="original-question">
                            <strong>元の質問:</strong> [自動生成] 第2章.pdfから生成
                        </div>
                        

                        <div class="qa-question">
                            ビザなしでグアムや北マリアナ諸島に入国する場合のリスクはありますか?
                        </div>

                        <div class="qa-answer">
                            ビザなしでの入国は虚偽の申告となり、判明した場合のペナルティが大きいため非常にリスクが高い。また、一度入国拒否を受けるとESTAの認証も受けられなくなり、観光目的でもビザの取得が必要になる。
                        </div>

                        <div class="qa-meta">
                            <span>カテゴリ: AI生成</span>
                            
                            <span>キーワード: ビザウェーバー;グアム;北マリアナ諸島;入国拒否;ESTA</span>
                            
                        </div>

                        <div class="action-buttons">
                            <a href="/admin/check_duplicates/9c180a20" class="btn btn-check">
                                🔍 重複チェック
                            </a>
                            <button type="button" class="btn btn-reject" onclick="rejectSingle('9c180a20')">
                                ❌ 却下
                            </button>
                        </div>
                    </div>
                </div>
                
            </form>
            
        </div>
    </div>

    <script>
        // チェックボックスの状態管理
        const checkboxes = document.querySelectorAll('.qa-select');
        const selectAllCheckbox = document.getElementById('select-all');
        const batchRejectBtn = document.getElementById('batch-reject');
        const selectedCountEl = document.getElementById('selected-count');

        function updateUI() {
            const checkedBoxes = document.querySelectorAll('.qa-select:checked');
            const count = checkedBoxes.length;

            // 選択数を更新
            selectedCountEl.textContent = count;

            // バッチボタンの表示/非表示
            if (count > 0) {
                batchRejectBtn.classList.add('active');
            } else {
                batchRejectBtn.classList.remove('active');
            }

            // 選択されたアイテムのハイライト
            document.querySelectorAll('.qa-item').forEach(item => {
                const checkbox = item.querySelector('.qa-select');
                if (checkbox && checkbox.checked) {
                    item.classList.add('selected');
                } else {
                    item.classList.remove('selected');
                }
            });

            // 全選択チェックボックスの状態
            if (count === checkboxes.length && count > 0) {
                selectAllCheckbox.checked = true;
                selectAllCheckbox.indeterminate = false;
            } else if (count > 0) {
                selectAllCheckbox.checked = false;
                selectAllCheckbox.indeterminate = true;
            } else {
                selectAllCheckbox.checked = false;
                selectAllCheckbox.indeterminate = false;
            }
        }

        // 全選択/解除
        if (selectAllCheckbox) {
            selectAllCheckbox.addEventListener('change', function() {
                checkboxes.forEach(cb => cb.checked = this.checked);
                updateUI();
            });
        }

        // 個別チェックボックス
        checkboxes.forEach(cb => {
            cb.addEventListener('change', updateUI);
        });

        // まとめて却下
        function batchReject() {
            const checkedBoxes = document.querySelectorAll('.qa-select:checked');
            const count = checkedBoxes.length;

            if (count === 0) {
                alert('却下するFAQを選択してください');
                return;
            }

            if (confirm(`選択した${count}件のFAQをまとめて却下しますか？`)) {
                document.getElementById('batch-form').submit();
            }
        }

        // 個別却下
        function rejectSingle(qaId) {
            if (confirm('このFAQを却下しますか?')) {
                const form = document.createElement('form');
                form.method = 'POST';
                form.action = '/admin/reject/' + qaId;
                document.body.appendChild(form);
                form.submit();
            }
        }

        // 初期化
        updateUI();
    </script>
</body>
</html>